<p style="margin-bottom:9.6pt;"><br></p>
<p style="margin-bottom:9.6pt;"><img width=5000pt src="./figure/image.png" alt="image"> </p>
<p style="margin-bottom:9.6pt;">&nbsp; &nbsp; </p>

<p align=center><img src="./figure/dream_front_matter.png" style="width: 396pt; height: 278.5pt;" alt="image"></p>
<div style="border:none;border-bottom:solid windowtext 1.0pt;padding:0in 0in 6.0pt 0in;margin-left:2.25in;margin-right:0in;">
    <p align=center style="margin-bottom:9.6pt;border:none;padding:0in;"><strong><span style='font-size:24px;font-family:"Arial",sans-serif;color:#003399;'>Designs for Risk Evaluation and Management (DREAM) User Installation Manual, Version: 2022.01</span></strong></p>
</div>
<p align=center style="margin-top:0in;margin-right:0in;margin-bottom:9.6pt;margin-left:2.25in;"><span style='font-size:21px;font-family:"Arial",sans-serif;color:black;'>X August 2022</span></p>
<p style="margin-bottom:9.6pt;text-align:center;"><span style="font-size:19px;color:red;">&nbsp;</span></p>
<p style="margin-top:0in;margin-right:0in;margin-bottom:9.6pt;margin-left:2.25in;"><span style="font-size:19px;color:red;">&nbsp;</span></p>

<hr>

<p align=right style="margin-bottom:9.6pt;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <strong><span style='font-size:40px;font-family:"Arial",sans-serif;'>Office of Fossil Energy and Carbon Management</span></strong></p>
<p align=right style="margin-bottom:9.6pt;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style='font-size:35px;font-family:"Arial",sans-serif;'>NRAP-TRS-III-001-2020</span></p>

<p style="margin-bottom:9.6pt;"><img src="./figure/doe_label.png" style="width: 222.4pt; height: 36pt;" alt="image"><strong><span style='font-size:21px;font-family:"Arial",sans-serif;'>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></strong></p>

<p>&nbsp;&nbsp;</p>

<hr>

<h1 name="intro">1.&nbsp;&nbsp;&nbsp;&nbsp; Introduction</h1>
<p style="margin-bottom:9.6pt;text-align:justify;text-indent:.25in;">The <em>Designs for Risk Evaluation and Management</em> (<em>DREAM</em>) tool was developed at Pacific Northwest National Laboratory (PNNL) to guide the optimal placement of monitoring devices to detect carbon dioxide (CO<sub>2</sub>) leakage from storage formations. The National Risk Assessment Partnership (NRAP) identified the need for a user-friendly tool with the ability to design site-specific, risk-based monitoring strategies. NRAP is<span style="color:black;">&nbsp;a U.S. Department of Energy (DOE) project tasked with conducting risk and uncertainty analysis in the areas of reservoir performance, natural leakage pathways, wellbore integrity, groundwater protection, monitoring, and systems level modeling. Monitoring designs produced by DREAM may be&nbsp;</span>used by stakeholders and regulators to assist in compliance with regulatory requirements developed to ensure the safety of U.S. underground sources of drinking water (USDW) and ultimately lead to safe, permanent geologic CO<sub>2</sub> storage. Further, site-specific designs generated by <span style="color:black;">DREAM allow for&nbsp;</span>potential generalizations to other sites, as well as comparisons between risk-based monitoring designs and monitoring designs for other purposes, if such designs should already exist (e.g., from a Regional Carbon Sequestration Partnership [RCSP] site).</p>
<p style="margin-bottom:9.6pt;text-align:justify;text-indent:.25in;">DREAM optimizes across user-provided subsurface leakage simulations based on user-specified leak parameters, factoring multiple objectives including minimizing cost, the earliest time to detection, or the volume of aquifer degraded. Currently, DREAM employs multi-objective optimization schemes that the user can select, including (i) Monte Carlo, (ii) Simulated Annealing, and (iii) Heuristic algorithm. The optimization schemes (i)-(iii) search for the optimal monitoring campaigns that minimize the tradeoff between the objectives, such as time to detection versus cost. </p>
<p style="margin-bottom:9.6pt;text-align:justify;text-indent:.25in;">Successful use of this software requires a rudimentary understanding of the leak scenarios, domain space, DREAM constraints, and the available optimization algorithms. There is rarely a definitively &ldquo;best&rdquo; monitoring solution, so DREAM instead functions as a support tool to highlight the opportunity trade-offs between good monitoring configurations. DREAM is limited by the spatial and temporal resolution of the subsurface leakage simulations, so decision-makers will need to translate DREAM configurations to real-world monitoring configurations that factor in site-specific constraints at a finer level. Decision-makers should always ground truth DREAM results to operational principles.</p>
<p>&nbsp;&nbsp;</p>

<h1 name="software">2.&nbsp;&nbsp;&nbsp;&nbsp; Software Installation and Requirements</h1>
<p style="margin-bottom:9.6pt;text-align:justify;text-indent:.25in;">DREAM has three software dependencies that will support the effective use of the tool: Java, Python and HDF5 viewer.</p>
        </ol>
        <p style="margin-bottom:9.6pt;text-indent:.5in;"></p>
        <p style="margin-bottom:9.6pt;text-align:justify;"><strong>Java &ndash; Required</strong></p>
        <p style="margin-bottom:9.6pt;text-indent:.25in;">DREAM is coded almost exclusively in Java. Users must have the most recent release of the Java Platform, which is currently compatible with Version 8. If Java is already installed, a search for &ldquo;About Java&rdquo; will help find the current version on your local machine. The latest version of Java SE can be downloaded at the following link:</p>
        <p style="margin-bottom:9.6pt;"><a href="https://www.oracle.com/java/technologies/downloads/#java8">https://www.oracle.com/java/technologies/downloads/#java8</a></p>
        <p style="margin-bottom:9.6pt;">Note that you might have to create an account with Oracle before you can download the latest version of Java.</p>
        <p style="margin-bottom:9.6pt;text-align:justify;"><strong>Python 3 &ndash; Optional (strongly recommended)</strong></p>
        <p style="margin-bottom:9.6pt;text-indent:.25in;">The core DREAM functions will run without Python, but most of the post-processing scripts that provide valuable insights from results are created with Python. <span style='font-family:"Times",serif;'>If you already have Python installed, you can check your version by typing &ldquo;python --version&rdquo; into a command prompt. You can download the latest version of Python 3 at the following link:</span></p>
        <p style="margin-bottom:9.6pt;"><a href="https://www.python.org/downloads/">https://www.python.org/downloads/</a></p>
        <p style="margin-bottom:9.6pt;text-indent:.25in;">Python packages can also be installed by typing &ldquo;python -m pip install &lt;name&gt;&rdquo; into a command prompt. It is highly recommended to create a dedicated Python (or conda) environment for DREAM that will host compatible versions of the following required packages:</p>
        <ul style="list-style-type: disc;margin-left:0.25in;">
            <li><span style='font-size:16px;line-height:115%;font-family:"Times New Roman",serif;'>numpy</span><span style="font-size:11px;"><a href="#_msocom_4" id="_anchor_4" language="JavaScript" name="_msoanchor_4"></a></span></li>
            <li><span style='line-height:115%;font-family:"Times New Roman",serif;font-family:"Times New Roman",serif;font-size:12.0pt;'>numpy</span></li>    
            <li><span style='line-height:115%;font-family:"Times New Roman",serif;font-family:"Times New Roman",serif;font-size:12.0pt;'>h5py</span></li>
            <li><span style='line-height:115%;font-family:"Times New Roman",serif;font-family:"Times New Roman",serif;font-size:12.0pt;'>glob</span></li>
            <li><span style='line-height:115%;font-family:"Times New Roman",serif;font-family:"Times New Roman",serif;font-size:12.0pt;'>matplotlib</span></li>
            <li><span style='line-height:115%;font-family:"Times New Roman",serif;font-family:"Times New Roman",serif;font-size:12.0pt;'>pillow (known as PIL)</span><span style="line-height:115%;font-size:11px;">&nbsp;</span></li>
        </ul>
        <p style="margin-bottom:9.6pt;text-align:justify;"></p>
<p><strong>HDF5 Viewer &ndash; Optional</strong></p>        
        <p style="margin-bottom:9.6pt;text-indent:.25in;">DREAM converts raw leak simulation outputs into HDF5 files, a hierarchical data format that is designed to store and organize large amounts of data. The data can be explored with the <em>h5py</em> Python package that was mentioned earlier or with a packaged HDF5 viewer. DREAM developers recommend either installing HDFView or Panoply. The first application allows for simple viewing and editing of HDF5 files, while the second application allows for simple viewing and plotting. The viewers can be downloaded at the following links:</p>
        <p style="margin-bottom:9.6pt;">HDFView: <a href="https://www.hdfgroup.org/downloads/hdfview/">https://www.hdfgroup.org/downloads/hdfview/</a></p>
        <p style="margin-bottom:9.6pt;">Panoply: <a href="https://www.giss.nasa.gov/tools/panoply/download/">https://www.giss.nasa.gov/tools/panoply/download/</a></p>
        <p style="margin-bottom:9.6pt;text-indent:.25in;">The current release of DREAM is made available on the NETL Energy Data Exchange (EDX) at <span style="background:yellow;">XXXXX</span> and includes a zip file with the following files:</p>


<ul style="list-style-type: disc;margin-left:0.25in;">
            <li><strong><span style='line-height:115%;font-family:"Times New Roman",serif;font-size:16px;'>A runnable JAR file</span></strong><span style='line-height:115%;font-family:"Times New Roman",serif;font-size:16px;'>, which packages all the necessary libraries, images, and documentation into an executable program.</span></li>
            <li><strong><span style='line-height:115%;font-family:"Times New Roman",serif;font-size:16px;'>Test Datasets</span></strong><span style="line-height:115%;font-size:11px;"><a href="#_msocom_9" id="_anchor_9" language="JavaScript" name="_msoanchor_9"></a></span><span style="line-height:115%;font-size:11px;"><a href="#_msocom_10" id="_anchor_10" language="JavaScript" name="_msoanchor_10"></a>&nbsp;</span><span style="font-size:16px;">that can be used by users to get familiar with the tool:</span>
                <ol style="list-style-type: circle;">
                    <li><u><span style="font-size:16px;">NRAP-OpenIAM Open Wellbore, Kimberlina site</span></u><span style="line-height:115%;font-size:11px;"><a href="#_msocom_12" id="_anchor_12" language="JavaScript" name="_msoanchor_12"></a>&nbsp;</span>
                        <ul class="decimal_type" style="list-style-type: square;">
                            <li><span style='line-height:115%;font-family:"Times New Roman",serif;font-size:16px;'>About the dataset: This dataset contains all the files</span><span style="line-height:115%;font-size:11px;"><a href="#_msocom_13" id="_anchor_13" language="JavaScript" name="_msoanchor_13"></a>&nbsp;</span><span style='line-height:115%;font-family:"Times New Roman",serif;font-size:16px;'>associated with the analysis of leakage risks at a brownfield site (i.e., Kimberlina site), using NRAP-Open-IAM.&nbsp;</span></li>
                            <li><span style='line-height:115%;font-family:"Times New Roman",serif;font-size:16px;'>Access:</span> <a href="https://edx.netl.doe.gov/dataset/application-of-nrap-open-iam-to-the-kimberlina-site"><span style="font-size:16px;">https://edx.netl.doe.gov/dataset/application-of-nrap-open-iam-to-the-kimberlina-site</span></a></li>
                            </ol></ul>
                        
                        
<h1><a name="howto"></a>3.&nbsp;&nbsp;&nbsp;&nbsp; How to Run From JAR (recommended for regular users)</h1>

<p> 1. Download JAR file from the GitHub Release section</p>
<p style="margin-bottom:9.6pt;"><img width=300pt src="./figure/github_release.PNG" alt="image"> </p>

<p> 2. Navigate to correct folder using File Explorer</p>
<p> 3. Double-click on DREAM.jar</p>
<p> 4. The DREAM window should open</p>
<p> OR</p>
<p> 2. Open Start Menu</p>
<p> 3. Open terminal by running the “CMD” program</p>
<p> 4. Navigate to correct folder using “dir” command</p>
<p> 5. Run “java -jar DREAM.jar”</p>
<p> 6. The DREAM window should open as with a double-click, but this option should display more informative error messages that can help us identify any errors</p>

<h1><a name="howto"></a>3.&nbsp;&nbsp;&nbsp;&nbsp; How to Run From Source (recommended for developers)</h1>

<p> 1. Clone repository using command “git clone https://github.com/pnnl/dream_v3” </p>
<p> OR </p>
<p> 1. Clone repository by clicking on “Code”  button in GitHub followed by “Download ZIP” </p>
<p style="margin-bottom:9.6pt;"><img width=300pt src="./figure/github_dl.PNG" alt="image"> </p>
<p> 2. Install a Java-compatible IDE (integrated development environment), we recommend Eclipse and therefore our instructions assume Eclipse, but other IDE’s should work in the same manner with minimal</p>
<p> 3. Go to “File > New > Java Project”. Uncheck “use default location” and provide it with the location where you cloned the GIT repository. Make sure that the execution environment JRE is JavaSE-1.8. Click “Finish”.</p>
<p> 4. If you see a big red exclamation point by the top-level folder of the project, right click on it and go to “Build Path > Configure Build Path”. Select the “Libraries” tab and you will see jre7 at the bottom. Remove jre7, click “Add Library”, select “JRE System Library”, and chose the Workspace default JRE, which should be 1.8.</p>
<p> 5. Press f5 while selecting the project to refresh it.</p>
<p> 6. Right click on the “img” folder and select “build path > Use as Source Folder”. Repeat for “docs” and “scripts” folders.</p>
<p> 7. Go to “Dream > src > wizardPages”. Right click on “DREAMWizard.java” and select “Run as > java application”.</p>
<p> 8. To add Git Staging, go to “Window > Show View > Other…” and select “Git > Git Staging”.</p>
<p> 9. To view history, right click on the project folder and select “Team > Show in History”.</p>

<p> To get Python Scripts working:</p>
<p> 1. Anaconda is recommended, preferably version 3.7 rather than 2.7.</p>
<p> 2. Open a command prompt and type in “python” to see version. Typing “where python” will show you where the executable is located.</p>
<p> 3.In your windows search bar, type “Edit the system environment variables”. In advanced tab, select “Environment Variables”. Under “user variables for …” click “New” and add:</p>
<p> a. Variable name=”PATH”; Value = the location of your python executable</p>

<p> Other Fixes</p>
<p> •Issue: Problem reading HDF5 files in Eclipse</p>
<p> oSolution: Go to “Run > Run Configuration”. Under the “Arguments” tab, add to the VM arguments: “-Dncsa.hdf.hdf5lib.H5.hdf5lib=C:\Users\whit162\OneDrive –PNNL\Documents\Projects\DreamProject\Dream\lib\jhdf5.dll”</p>
<p> •Issue: Memory getting maxed out</p>
<p> oSolution: Go to “Run > Run Configuration”. Under the “Arguments” tab, add to the VM arguments: “-Xmx2g -Xms32m”</p>
<p> •If you want to assess code performance:</p>
<p> oGo to “Help > Eclipse Marketplace” and search for ‘JVM Monitor’ and click install.</p>
<p> oGo to “Window > Perspective > Open Perspective > Other” and select ‘Java Monitor’</p>

                
                
<h1><a name="howto"></a>4.&nbsp;&nbsp;&nbsp;&nbsp; Getting Started with DREAM</h1>
Once DREAM has been downloaded and successfully installed, the user is officially ready to get started. Execute the runnable JAR file or open up the DREAM application. The user can find more information on how to run DREAM by referring to the User Guide Manual, which includes a step-by-step tutorial on setting up and running DREAM using a test dataset. The user can also find the User Guide Manual on DREAM (v3) Github.

[Direct link to User Guide Manual on Github.](./README.md)

<p> &nbsp; </p>
